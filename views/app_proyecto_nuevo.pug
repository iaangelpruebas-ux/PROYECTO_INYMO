extends layout_app

block content
  // La l칤nea link debe empezar pegada al borde izquierdo de la pesta침a
  link(rel='stylesheet', href='/stylesheets/proyectos.css') 

  // --- ENCABEZADO DEL PROYECTO ---
  div.module-header
    div.header-title
      a.back-link(href="/app/proyectos") 
        i.bx.bx-left-arrow-alt
        | Volver al Portafolio
      h1 Crear Nuevo Proyecto
      p.subtitle Define los par치metros estrat칠gicos para empezar a operar.

  div.form-container
    // El formulario apunta a la ruta POST que crearemos en index.js
    form.new-project-form(action="/app/proyectos/crear" method="POST")
      
      // --- SECCI칍N 1: IDENTIFICACI칍N Y ESTRATEGIA (PMBOK) ---
      h3.form-section-title Informaci칩n B치sica y Valor
      div.form-grid
        
        div.input-group
          label(for="nombre") Nombre del Proyecto *
          input#nombre(type="text" name="nombre" placeholder="Ej: Nave Industrial Colibr칤" required)
        
        div.input-group
          label(for="cliente") Cliente *
          input#cliente(type="text" name="cliente" placeholder="Ej: Grupo Aceros de Occidente" required)
          
        div.input-group
          label(for="lider") L칤der del Proyecto (PM) *
          input#lider(type="text" name="lider" placeholder="Ej: Ing. 츼ngel Velasco" required)
          
        div.input-group
          label(for="codigo") C칩digo 칔nico (INY-25-00X)
          input#codigo(type="text" name="codigo" placeholder="Ej: INY-25-015" required)

        div.input-group
          label(for="tipo_entrega") Tipo de Entrega (PMBOK)
          select#tipo_entrega(name="tipo_entrega" required)
            option(value="Predictivo") Predictivo (Cascada)
            option(value="H칤brido") H칤brido (Mezcla)
            option(value="츼gil") 츼gil (Iterativo/Scrum)

        div.input-group
          label(for="valor_negocio") Valor de Negocio Estimado (USD) *
          input#valor_negocio(type="number" name="valor_negocio" placeholder="Ej: 5200000" required)

      // --- SECCI칍N 2: FINANZAS Y TIEMPO ---
      h3.form-section-title Finanzas y Plazos
      div.form-grid
        div.input-group
          label(for="presupuesto") Presupuesto Total (USD) *
          input#presupuesto(type="number" name="presupuesto" placeholder="Ej: 4500000" required)
        
        div.input-group
          label(for="fecha_fin") Fecha de Finalizaci칩n Estimada *
          input#fecha_fin(type="date" name="fecha_fin" required)

      // --- SECCI칍N 3: ESTADO INICIAL ---
      h3.form-section-title Estado Inicial
      div.form-grid
        div.input-group
          label(for="riesgo") Nivel de Riesgo Inicial
          select#riesgo(name="riesgo" required)
            option(value="Bajo") Bajo
            option(value="Medio") Medio
            option(value="Alto") Alto
        
        div.input-group
          label(for="fase") Fase Inicial
          select#fase(name="fase" required)
            option(value="Inicio") 1. Inicio
            option(value="Planificaci칩n") 2. Planificaci칩n
            option(value="Ejecuci칩n") 3. Ejecuci칩n
            option(value="Cierre") 4. Cierre

      // --- BOT칍N FINAL ---
      button.btn-submit.btn-save(type="submit") 
        i.bx.bx-save
        |  Guardar Proyecto y Empezar 游

  // Mensaje de 칠xito/error (Lo insertaremos si viene del servidor)
  if mensaje
    div.alert-message(class=mensaje.tipo)= mensaje.texto